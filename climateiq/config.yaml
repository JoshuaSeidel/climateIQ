name: ClimateIQ
version: "1.0.9"
slug: climateiq
description: AI-Powered Intelligent Climate Management for Home Assistant
url: "https://github.com/JoshuaSeidel/climateIQ"
image: ghcr.io/joshuaseidel/climateiq-addon-{arch}
arch:
  - amd64
  - aarch64
startup: application
boot: auto
init: false
host_network: true

# Ingress configuration - proxied through HA UI
# Uvicorn listens directly on the ingress port (no nginx)
ingress: true
ingress_port: 8099
ingress_stream: true
panel_icon: mdi:thermostat-auto
panel_title: ClimateIQ

# Port mappings (optional direct access, null = not exposed by default)
ports:
  8099/tcp: null
ports_description:
  8099/tcp: ClimateIQ Web UI (direct access)

# User-configurable options
options:
  log_level: info
  temperature_unit: F
  db_host: ""
  db_port: 5432
  db_name: climateiq
  db_user: climateiq
  db_password: ""
  redis_url: ""
  anthropic_api_key: ""
  openai_api_key: ""
  gemini_api_key: ""
  grok_api_key: ""
  ollama_url: ""
  climate_entities: []
  sensor_entities: []
  weather_entity: ""
  energy_entity: ""
schema:
  log_level: list(debug|info|warning|error)
  temperature_unit: list(F|C)
  db_host: str
  db_port: port
  db_name: str
  db_user: str
  db_password: password
  redis_url: str
  anthropic_api_key: str?
  openai_api_key: str?
  gemini_api_key: str?
  grok_api_key: str?
  ollama_url: str?
  climate_entities:
    - str
  sensor_entities:
    - str
  weather_entity: str?
  energy_entity: str?

# Permissions
hassio_api: true
homeassistant_api: true
auth_api: true

# Map add-on data directory
map:
  - config:rw
  - ssl:ro
  - share:rw

# Environment variables injected by Supervisor
environment:
  SUPERVISOR_TOKEN: "{{ .token }}"
